  <!-- Phần Header của Website -->
  <head>
    <!-- ////////////// CHƯƠNG TRÌNH HỆ THỐNG //////////////  -->


    <title>Lỗi</title>


            <!-- ////////////// GỌI CÁC CSS //////////////  -->
            <link rel="stylesheet" href="/CSS/Sala/Sala.css">
            <link rel="stylesheet" href="/CSS/Sala/error.css">
         
           
            <link rel="stylesheet" href="/CSS/slidebar.css">
 
            <link rel="stylesheet" href="/CSS/test_slidebar.css">
            <!-- <link rel="stylesheet" 
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"> -->
            <link rel="stylesheet" href="/CSS/fontawesome.css">
            <link rel="stylesheet" href="/CSS/all.min.css">
            <script src = "/js/all.min.js"></script>
            <script src = "/js/fontawesome.min.js"></script>

            
            <!-- /////////////GỌI CÁC JS????????? -->
  
    <script src="/js/jquery-3.6.0.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src = "/js/FC3_Excel_Export.js"></script>
    
    <script src = "/js/FileSaver.js"></script>
    <!-- <script src="/js/chart_realtime.js"></script>  -->

 
    <script src="/js/FC1_Common.js"></script>

    <!-- <script src="https://cdn.plot.ly/plotly-latest.min.js"></script> -->

    
    <!-- <script src="/js/bangtai.js"></script> -->
    <!-- <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script> -->
   


   
    
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script> -->


    <script>
        var socket = io("10.14.12.72:8080") // IP tĩnh (hoặc IP động, hoặc 192.168.0.100)
    </script>

   

</head>





<!-- Phần thân của website -->
<body onload="myFunction();" >

  <script>
    function myFunction() {
      //  setTimeout(() => {fn_Table_error_SQL_Show_error();
            
      //  }, 2000);
      //  setTimeout(() => {chart_details_fan_1();
            
      //  }, 2200);


    }
  </script>

 <!-- ////////////// Code cho slidebar////////////// -->
 <%- include('../slidebar.ejs');   -%>


 
    <div id='error_screen' onmouseover="document.getElementById('main_menu').style.display = 'none';">

    <div id="info_websize">
        <img id='logo' src="/images/logo.png"  >
        <img id='logo_sala' src="/images/emartlogo-01.png"  >
    </div>
    <h1 class="title_sala">BÁO CÁO SẢN XUẤT</h1>
    
    
     
    
    <div id='error'>
    
      <div id='Baocao'>
       
    
        <!--Nút Xuất Excel-->
        <button id="btt_Excel" class="button" onclick=" socket.emit('Client-send-choice_export', 'error_export');
                                                        fn_excel_error_device();
                                                      
        "></i> BÁO CÁO</button>
    
       <!-- <button id="btt_Excel_if_burner" class="button" onclick="fn_excel_info_burner();
       "></i> BÁO CÁO burner</button> -->
    
        <p id = "alarm"> </p>
      
        <!--Date time piker-->
        <label id="lb_Search_Start">Từ:</label>
        <input id="dtpk_Search_Start" type="datetime-local">
        <label id="lb_Search_End">Đến:</label>
        <input id="dtpk_Search_End" type="datetime-local">
        <!--Nút tìm kiếm-->
        <button id="btt_Search" class="button" onclick="socket.emit('Client-send-choice_export', 'error_export');fn_SQL_By_Time_info_lifter();
        "></i> TÌM KIẾM</button>
    
        
    
        
    
    
       
    <select id="select_kv_name" onchange="myFunction()">
      <option value='null'>Chọn khu vực
      <option value='kv="Sala"'>Emart Sala
      <option value='kv="Govap"'>Emart Gò Vấp
      <option value='kv="PhanHuyIch'>Emart Phan Huy Ích
      </select>
    
    <select id="select_type" onchange="myFunction()">
      <option value='null'>Chọn kiểu lọc
      <option value='day'>Theo ngày
      <option value='month'>Theo tháng
    </select>
    



       
      <script>
        
      function myFunction() 
      {
        kv_send_sql = document.getElementById("select_kv_name").value; 
        socket.emit('Client-send-kv_sql', kv_send_sql);
    
    
       if (kv_send_sql=='kv="Sala"')
        {
           
          device_send_sql = document.getElementById("select_type").value; 
          console.log(device_send_sql);
          socket.emit('Client-send-select_type', device_send_sql);

        }
        else
        { 
          device_send_sql = document.getElementById("select_type").value; 
          console.log(device_send_sql);
          socket.emit('Client-send-select_type', device_send_sql);
        }
    
    
      }
      </script>
    
    
    
    
        
    
      
    
     
    
    </div>
      
    
                <!--Table display-->
                <div id = "div_table_error_coolwater">
                  <table id="table_error_coolwater" >
                      <thead>
                      <tr >
    
                          <th >Thời gian</th>
                  
                          <th >Khu vực</th>
    
                          <th >Tên thiết bị</th>
    
                          <th >Tên lỗi</th>
    
    
                      </tr>
                      </thead>
                  </table>
                </div>
    
    </div>
     
  


 




 
</div>

 
      
</body>